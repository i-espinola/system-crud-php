"use strict";function inputMask(){$(".money").mask("000.000.000",{reverse:!0}),$(".cpf").mask("000.000.000-00"),$(".find-id").mask("00"),$(".date").mask("00/00/0000"),$(".v-max").keyup(function(a){})}function toggleModal(a){$(a+" button.btn-primary").toggleClass("d-none"),$(a+" .modal-title").toggleClass("d-none")}function add(a){reset(),a.preventDefault();var t=a.target,o=$(t).closest(".modal").attr("id").substr(6),e=$("#modal-"+o+" form"),d=[];for(i=0;i<e.length;i++){var s=e.eq(i).data("id");s=s.substr(5),d.push(s),$.ajax({type:"POST",async:!0,url:"assets/php/"+s+"_add.php",data:e.eq(i).serialize(),success:function(){},error:function(){count()}})}check(d),clean(t)}function check(a){for(i=0;i<a.length;i++){var t=a[i];$("#"+t+" .table-responsive").load(location.href+" #"+t+" .table-responsive")}0==chk?($("[id*='modal-']").modal("hide"),$("#modal-success").modal("show")):($("[id*='modal-']").modal("hide"),$("#modal-fail").modal("show"))}function count(){chk++}function reset(){chk=0}function del(a){var t=$(a).closest(".table-actions").find("span").text(),o=$(a).closest(".tab-pane").attr("id");$.ajax({type:"POST",url:"assets/php/"+o+"_del.php",data:{id:t},success:function(){$("#modal-"+o).modal("hide"),$("#modal-success").modal("show"),$("#"+o+" .table-responsive").load(location.href+" #"+o+" .table-responsive")},error:function(){$("#modal-"+o).modal("hide"),$("#modal-fail").modal("show"),$("#"+o+" .table-responsive").load(location.href+" #"+o+" .table-responsive")}})}function edit(a,t){var o="id="+$(a).closest(".modal-footer").find("span").text()+"&",e=$(a).closest(".modal").attr("id"),d=$(a).closest(".modal"),s=e.substr(6);o+=$(d).find("form").serialize(),t.preventDefault(),$.ajax({type:"POST",url:"assets/php/"+s+"_edit.php",data:o,success:function(a){$("#modal-"+s).modal("hide"),$("#modal-success").modal("show"),$("#"+s+" .table-responsive").load(location.href+" #"+s+" .table-responsive")},error:function(a){$("#modal-"+s).modal("hide"),$("#modal-fail").modal("show")}})}function clean(a){var t="#"+$(a).closest(".modal").attr("id");$(t+" .modal-footer span").remove(),$(t+" form input").val(""),$(t+" .datepicker").val("").datepicker("update"),$(t+" .nav-wrapper").show(),$(t+" button.btn-primary.add").hasClass("d-none")&&toggleModal(t)}function modalEdit(a){var t=$(a).closest(".card").find(".rounded-circle").data("target"),o=$(a).closest(".table-actions").find("span").clone(!0),e=$(a).closest("tr").find("td").length,d=$(a).closest("tr").find("td"),s=$(t).find(".form-control"),n=[];for(d.map(function(){0<e&&($(a).closest("tr").find("td").length!=e&&(-1!=$(this).text().indexOf("mÂ²")?n.push($(this).text().substring(0,$(this).text().length-3)):n.push($(this).text())),e--)}),$(a).closest(".card").find(".rounded-circle").click(),$(t+" .nav-wrapper").hide(),$(t+" .modal-footer").append(o),e=0;e<=n.length;e++)"tipo"!=$(s[e]).attr("id")?$(s[e]).val(n[e]):$(s[e]).find("option:contains("+n[e]+")").prop({selected:!0});$(t+" button.btn-primary.add").hasClass("d-none")||toggleModal(t)}function subNavigator(a){var t=$(a).closest(".modal-body"),o=$(a).data("option"),e=$(a).closest(".nav-fill").find(".active").data("option");if(0===$(t).find("form[data-id=form-"+o+"]").length){var d=$("#modal-"+o).find("form[data-id=form-"+o+"]").clone(!0);$(t).find("form[data-id=form-"+e+"]").hide(),$(t).append(d)}else $(t).find("form[data-id=form-"+e+"]").hide(),$(t).find("form[data-id=form-"+o+"]").show()}chk=0,$(document).ready(function(){inputMask()});